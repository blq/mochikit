if(typeof goog!="undefined"&&typeof goog.provide=="function")MochiKit.Base_ext={};MochiKit.Base.module(MochiKit,"Base_ext","1.5",["Base"]);MochiKit.Base._arg_placeholder=function(a){this.index=a};
var _1=new MochiKit.Base._arg_placeholder(0),_2=new MochiKit.Base._arg_placeholder(1),_3=new MochiKit.Base._arg_placeholder(2),_4=new MochiKit.Base._arg_placeholder(3),_5=new MochiKit.Base._arg_placeholder(4),_6=new MochiKit.Base._arg_placeholder(5),_7=new MochiKit.Base._arg_placeholder(6),_8=new MochiKit.Base._arg_placeholder(7),_9=new MochiKit.Base._arg_placeholder(8),_10=new MochiKit.Base._arg_placeholder(9);
MochiKit.Base._rebind_preargs=function(a,b,c){c=c||{};for(var d=0;d<a.length;++d){var e=a[d];if(e instanceof MochiKit.Base._arg_placeholder){if(e.index<b.length){a[d]=b[e.index];c[e.index]=e.index}}else typeof e=="function"&&typeof e.im_func=="function"&&MochiKit.Base._rebind_preargs(e.im_preargs,b,c)}return c};
MochiKit.Base.bind2=function(a,b){if(typeof a=="string")a=b[a];var c=a.im_func,d=a.im_preargs,e=a.im_self,f=MochiKit.Base;if(typeof a=="function"&&typeof a.apply=="undefined")a=f._wrapDumbFunction(a);if(typeof c!="function")c=a;if(typeof b!="undefined")e=b;d=typeof d=="undefined"?[]:d.slice();var g=Array.prototype.slice.call(arguments,b instanceof f._arg_placeholder?1:2),h=MochiKit.Base._rebind_preargs(d,g),i;for(i in h)g.splice(h[i],1);f.extend(d,g);g=function(){var j=arguments.callee,k=j.im_self;
k||(k=this);var l=[];if(j.im_preargs.length>0){for(var o=0,p=0;p<j.im_preargs.length;++p){var n=j.im_preargs[p];if(n instanceof f._arg_placeholder){o=Math.max(o,n.index+1);n=arguments[n.index]}else if(typeof n=="function"&&typeof n.im_func=="function")n=n.apply(k,arguments);l.push(n)}for(o=o;o<arguments.length;++o)l.push(arguments[o])}else l=arguments;if(k instanceof f._arg_placeholder)k=arguments[k.index];return j.im_func.apply(k,l)};g.im_self=e;g.im_func=c;g.im_preargs=d;if(typeof c.NAME=="string")g.NAME=
"bind2("+c.NAME+",...)";return g};MochiKit.Base.partial2=function(a){var b=MochiKit.Base;return b.bind2.apply(this,b.extend([a,undefined],arguments,1))};MochiKit.Base.method2=function(a,b){var c=MochiKit.Base;return c.bind2.apply(this,c.extend([b,a],arguments,2))};MochiKit.Base.bindLate2=function(a){var b=MochiKit.Base,c=arguments;if(typeof a==="string"){c=b.extend([b.forwardCall(a)],arguments,1);return b.bind2.apply(this,c)}return b.bind2.apply(this,c)};
MochiKit.Base.isBoundFunction=function(a){return typeof a=="function"&&typeof a.im_func=="function"};MochiKit.Base.protect=function(a){return function(){return a.apply(this,arguments)}};MochiKit.Base.apply=function(a){var b=MochiKit.Base.extend([],arguments,1);return a.apply(this,b)};
MochiKit.Base.partition=function(a,b,c,d,e){function f(h,i){var j=a[h];a[h]=a[i];a[i]=j}b=b||MochiKit.Base.operator.cle;c=c||0;d=d||a.length-1;e=e||c+Math.floor((d-c)/2);var g=a[e];f(e,d);for(c=e=c;c<=d;++c)if(b(a[c],g)){f(c,e);++e}f(e,d);return e};MochiKit.Base.countValue=function(a,b,c){c=c||MochiKit.Base.operator.ceq;var d=0;MochiKit.Iter.forEach(a,function(e){c(e,item)&&++d});return d};MochiKit.Base.negateComparator=function(a){return function(){return-1*a.apply(this,arguments)}};
MochiKit.Base_ext.__new__=function(){};MochiKit.Base_ext.__new__();MochiKit.Base._exportSymbols(this,MochiKit.Base);if(typeof goog!="undefined"&&typeof goog.provide=="function")MochiKit.Bisect={};MochiKit.Base.module(MochiKit,"Bisect","1.5",["Base"]);MochiKit.Bisect.bisectRight=function(a,b,c,d){c=c||0;for(d=d||a.length;c<d;){var e=Math.floor((c+d)/2);if(MochiKit.Base.compare(b,a[e])<0)d=e;else c=e+1}return c};MochiKit.Bisect.insortRight=function(a,b,c,d){c=MochiKit.Bisect.bisectRight(a,b,c,d);a.splice(c,0,b);return a};
MochiKit.Bisect.bisectLeft=function(a,b,c,d){c=c||0;for(d=d||a.length;c<d;){var e=Math.floor((c+d)/2);if(MochiKit.Base.compare(a[e],b)<0)c=e+1;else d=e}return c};MochiKit.Bisect.insortLeft=function(a,b,c,d){c=MochiKit.Bisect.bisectLeft(a,b,c,d);a.splice(c,0,b);return a};MochiKit.Bisect.bisect=MochiKit.Bisect.bisectRight;MochiKit.Bisect.insort=MochiKit.Bisect.insortRight;MochiKit.Bisect.__new__=function(){};MochiKit.Bisect.__new__();MochiKit.Base._exportSymbols(this,MochiKit.Bisect);if(typeof goog!="undefined"&&typeof goog.provide=="function")MochiKit.HeapQ={};MochiKit.Base.module(MochiKit,"HeapQ","1.5",["Base","Iter"]);MochiKit.HeapQ.heapify=function(a,b){b=b||MochiKit.Base.operator.clt;for(var c=Math.floor(a.length/2)-1;c>=0;--c)MochiKit.HeapQ._siftup(a,c,b);return a};MochiKit.HeapQ._siftdown=function(a,b,c,d){d=d||MochiKit.Base.operator.clt;for(var e=a[c];c>b;){var f=c-1>>1,g=a[f];if(d(e,g)){a[c]=g;c=f}else break}a[c]=e};
MochiKit.HeapQ._siftup=function(a,b,c){c=c||MochiKit.Base.operator.clt;for(var d=a.length,e=b,f=a[b],g=2*b+1;g<d;){var h=g+1;if(h<d&&!c(a[g],a[h]))g=h;a[b]=a[g];b=g;g=2*b+1}a[b]=f;MochiKit.HeapQ._siftdown(a,e,b,c)};MochiKit.HeapQ.heapPush=function(a,b,c){c=c||MochiKit.Base.operator.clt;a.push(b);MochiKit.HeapQ._siftdown(a,0,a.length-1,c)};MochiKit.HeapQ.heapPop=function(a,b){b=b||MochiKit.Base.operator.clt;var c=a.pop(),d;if(a.length>0){d=a[0];a[0]=c;MochiKit.HeapQ._siftup(a,0,b)}else d=c;return d};
MochiKit.HeapQ.heapReplace=function(a,b,c){c=c||MochiKit.Base.operator.clt;var d=a[0];a[0]=b;MochiKit.HeapQ._siftup(a,0,c);return d};MochiKit.HeapQ.heapPushPop=function(a,b,c){c=c||MochiKit.Base.operator.clt;if(a.length>0&&c(a[0],b)){var d=a[0];a[0]=b;b=d;MochiKit.HeapQ._siftup(a,0,c)}return b};
MochiKit.HeapQ.imergeSorted=function(a,b){var c=MochiKit,d=c.Iter;b=b||c.Base.operator.clt;var e=function(g,h){return b(g[0],h[0])},f=[];d.forEach(d.izip(d.count(),d.imap(d.iter,a)),function(g){var h=g[0];g=g[1];try{var i=g.next;f.push([i(),h,i])}catch(j){if(j!=d.StopIteration)throw j;}});c.HeapQ.heapify(f,e);return{repr:function(){return"imergeSorted(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){for(;;){if(f.length==0)throw d.StopIteration;var g=f[0],h=g[0],i=g[2];try{g[0]=i();
c.HeapQ.heapReplace(f,g,e)}catch(j){if(j!=d.StopIteration)throw j;c.HeapQ.heapPop(f,e)}return h}}}};MochiKit.HeapQ.heapIter=function(a,b){b=b||MochiKit.Base.operator.clt;return{next:function(){if(a.length==0)throw MochiKit.Iter.StopIteration;return MochiKit.HeapQ.heapPop(a,b)}}};
MochiKit.HeapQ.nLargest=function(a,b,c){var d=MochiKit,e=d.Iter;c=c||d.Base.operator.clt;b=e.iter(b);var f=e.list(e.islice(b,a));if(f.length==0)return f;d.HeapQ.heapify(f,c);e.forEach(b,function(g){d.HeapQ.heapPushPop(f,g,c)});f.sort(function(g,h){return-1*d.Base.compare(g,h)});return f};MochiKit.HeapQ.nSmallest=function(a,b,c){var d=MochiKit,e=d.Iter;c=c||d.Base.operator.clt;b=e.list(b);d.HeapQ.heapify(b,c);return d.Base.map(d.Base.partial(d.HeapQ.heapPop,b,c),e.range(Math.min(a,b.length)))};
MochiKit.HeapQ.isHeap=function(a,b){b=b||MochiKit.Base.operator.cle;for(var c=1;c<a.length;++c)if(!b(a[c-1>>1],a[c]))return false;return true};MochiKit.HeapQ.heapSort=function(a,b){var c=MochiKit,d=c.Iter.list(a);c.HeapQ.heapify(d,b);return c.Base.map(c.Base.partial(c.HeapQ.heapPop,d,b),c.Iter.range(d.length))};MochiKit.HeapQ.__new__=function(){};MochiKit.HeapQ.__new__();MochiKit.Base._exportSymbols(this,MochiKit.HeapQ);if(typeof goog!="undefined"&&typeof goog.provide=="function")MochiKit.Iter_ext={};MochiKit.Base.module(MochiKit,"Iter_ext","1.5",["Base","Iter"]);MochiKit.Iter.treePreOrder=function(a,b){var c=[a];return{repr:function(){return"treePreOrder(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){if(c.length==0)throw MochiKit.Iter.StopIteration;var d=c.pop();MochiKit.Iter.iextend(c,b(d));return d}}};
MochiKit.Iter.treeLevelOrder=function(a,b){var c=[a];return{repr:function(){return"treeLevelOrder(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){if(c.length==0)throw MochiKit.Iter.StopIteration;var d=c.shift();MochiKit.Iter.iextend(c,b(d));return d}}};
MochiKit.Iter.treePostOrder=function(a,b){var c=[[a,false]];return{repr:function(){return"treePostOrder(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){for(;;){if(c.length==0)throw MochiKit.Iter.StopIteration;var d=c.pop();if(d[1])return d[0];d[1]=true;c.push(d);MochiKit.Iter.iextend(c,MochiKit.Iter.imap(function(e){return[e,false]},b(d[0])))}}}};
MochiKit.Iter.pairView=function(a,b){b=b||false;var c=MochiKit.Iter.iter(a);try{var d=c.next()}catch(e){if(e!=MochiKit.Iter.StopIteration)throw e;return{next:function(){throw e;}}}if(b)c=MochiKit.Iter.chain(c,[d]);return{repr:function(){return"pairView(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){var f=c.next(),g=[d,f];d=f;return g}}};
MochiKit.Iter.windowView=function(a,b,c){b=b||2;c=c||1;var d=MochiKit.Iter.iter(a),e=[];return{repr:function(){return"windowView(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){if(e.length<b)for(;e.length<b;)e.push(d.next());else for(var f=0;f<c;++f){e.shift();e.push(d.next())}return e.slice()}}};MochiKit.Iter.filterMap=function(a,b,c){c=c||function(d){return typeof d!=="undefined"&&d!==null};return MochiKit.Iter.ifilter(c,MochiKit.Iter.imap(a,b))};
MochiKit.Iter.iflattenArray=function(a){var b=[a];return{repr:function(){return"iflattenArray(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){for(;;){if(b.length==0)throw MochiKit.Iter.StopIteration;var c=b.shift();if(c instanceof Array)Array.prototype.splice.apply(b,[0,0].concat(c));else return c}}}};
MochiKit.Iter.chainFromIter=function(a,b){b=b||MochiKit.Iter.iter;var c=MochiKit.Iter.iter(a),d=null;return{repr:function(){return"chainFromIter(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){if(d==null)d=MochiKit.Iter.iter(b(c.next()));for(;;)try{return d.next()}catch(e){if(e!=MochiKit.Iter.StopIteration)throw e;d=MochiKit.Iter.iter(b(c.next()))}}}};
MochiKit.Iter.uniqueView=function(a,b){b=b||MochiKit.Base.operator.eq;var c=MochiKit.Iter.iter(a),d=true,e;return{repr:function(){return"uniqueView(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){if(d){d=false;return e=c.next()}for(var f=c.next();b(e,f);)f=c.next();return e=f}}};
MochiKit.Iter.iproduct=function(a,b){var c=MochiKit.Iter.iter(a),d=null,e,f;return{repr:function(){return"iproduct(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){for(;;){if(d==null){e=c.next();d=MochiKit.Iter.iter(b)}try{f=d.next();return[e,f]}catch(g){if(g!=MochiKit.Iter.StopIteration)throw g;d=null}}}}};MochiKit.Iter.enumerate=function(a,b){return MochiKit.Iter.izip(MochiKit.Iter.count(b),a)};MochiKit.Iter.breakIt=function(){throw MochiKit.Iter.StopIteration;};
MochiKit.Iter.generateN=function(a,b){return MochiKit.Iter.imap(function(){return a()},MochiKit.Iter.range(b))};
MochiKit.Iter.izipLongest=function(a,b){b=b||null;a=MochiKit.Base.map(MochiKit.Iter.iter,a);var c=a.length;return{repr:function(){return"izipLongest(...)"},toString:MochiKit.Base.forwardCall("repr"),next:function(){for(var d=Array(a.length),e=0;e<a.length;++e)try{d[e]=a[e].next()}catch(f){if(f!=MochiKit.Iter.StopIteration)throw f;a[e]=MochiKit.Iter.repeat(b);d[e]=b;--c}if(c==0)throw MochiKit.Iter.StopIteration;return d}}};MochiKit.Iter.any=MochiKit.Iter.some;MochiKit.Iter.all=MochiKit.Iter.every;
MochiKit.Iter.starmap=MochiKit.Iter.applymap;MochiKit.Iter.advance=function(a,b){for(;b-- >0;)a.next();return a};MochiKit.Iter.isSorted=function(a,b){return MochiKit.Iter.every(MochiKit.Iter.windowView(a),b||MochiKit.Base.operator.cle)};MochiKit.Iter_ext.__new__=function(){};MochiKit.Iter_ext.__new__();MochiKit.Base._exportSymbols(this,MochiKit.Iter);if(typeof goog!="undefined"&&typeof goog.provide=="function")MochiKit.Random={};MochiKit.Base.module(MochiKit,"Random","1.5",["Base"]);MochiKit.Random.random=Math.random;MochiKit.Random.randRange=function(a,b,c){var d=MochiKit.Random;if(arguments.length==1){b=a;a=0}c=c||1;var e=b-a;if(c==1&&e>0)return Math.floor(a+Math.floor(d.random()*e));if(c>0)var f=Math.floor((e+c-1)/c);else if(c<0)f=Math.floor((e+c+1)/c);return a+c*Math.floor(d.random()*f)};
MochiKit.Random.uniform=function(a,b){return a+(b-a)*MochiKit.Random.random()};MochiKit.Random.shuffle=function(a){for(var b=a.length-1;b>0;--b){var c=Math.floor(MochiKit.Random.random()*(b+1)),d=a[b];a[b]=a[c];a[c]=d}return a};MochiKit.Random.deal=function(a,b){b=b||MochiKit.Base.operator.identity;for(var c=Array(a),d=0;d<a;++d){var e=Math.floor(MochiKit.Random.random()*(d+1));c[d]=c[e];c[e]=b(d)}return c};MochiKit.Random.choice=function(a){return a[Math.floor(MochiKit.Random.random()*a.length)]};
MochiKit.Random.shuffled=function(a){var b=a.length,c=Array(b);c[0]=a[0];for(var d=1;d<b-1;++d){var e=Math.floor(MochiKit.Random.random()*(d+1));c[d]=c[e];c[e]=a[d]}return c};MochiKit.Random.sample=function(a,b){for(var c=a.length,d=Array(b),e={},f=0;f<b;++f){for(var g=MochiKit.Random.randRange(c);g in e;)g=MochiKit.Random.randRange(c);e[g]=true;d[f]=a[g]}return d};MochiKit.Random.__new__=function(){};MochiKit.Random.__new__();MochiKit.Base._exportSymbols(this,MochiKit.Random);
